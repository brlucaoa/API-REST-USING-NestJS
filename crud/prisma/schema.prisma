generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Operador {
  id        Int            @id @default(autoincrement())
  name      String
  email     String         @unique
  cpf       String         @unique
  patente   Patente
  status    StatusOperador @default(ATIVO)
  createdAt DateTime       @default(now())

  missoes Missao[] @relation("OperadoresMissoes")
}

model Missao {
  id        Int          @id @default(autoincrement())
  titulo    String       @unique
  descricao String?
  status    StatusMissao @default(ABERTA)
  createdAt DateTime     @default(now())

  operadores Operador[] @relation("OperadoresMissoes")
}

enum Patente {
  SOLDADO_I
  SOLDADO_II
  SOLDADO_III
  CABO_I
  CABO_II
  PRIMEIRO_SARGENTO
  SEGUNDO_SARGENTO
  TERCEIRO_SARGENTO
  SUB_OFICIAL
  ASPIRANTE_OFICIAL
  PRIMEIRO_TENENTE
  SEGUNDO_TENENTE
  CAPITAO
  MAJOR
  TENENTE_CORONEL
  CORONEL
  GENERAL_DE_BRIGADA
  GENERAL_DE_DIVISAO
  GENERAL_DE_EXERCITO
  MARECHAL
}

enum StatusOperador {
  ATIVO
  TREINAMENTO
  INCAPAZ_TEMPORARIO
  INCAPAZ_PERMANENTE
}

enum StatusMissao {
  ABERTA
  ANDAMENTO
  FECHADA
}
